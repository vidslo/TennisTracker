<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tennis Match Tracker</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css">
    <style>
        body {
            font-family: Arial, sans-serif;
        }
        .player-name {
            font-size: 1.2em;
            font-weight: bold;
        }
        .score {
            font-size: 1.5em;
            font-weight: bold;
        }
        .btn-group button {
            width: 100%;
            margin: 5px 0;
        }
    </style>
</head>
<body>

<div class="container mt-4">
    <h1 class="text-center">ðŸŽ¾ Tennis Match Tracker ðŸŽ¾</h1>

    <!-- Create a new match -->
    <div class="card p-3 my-3">
        <h3>Create a New Match</h3>
        <form id="newMatchForm">
            <div class="form-group">
                <label for="matchName">Match Name:</label>
                <input type="text" class="form-control" id="matchName" placeholder="Enter match name" required>
            </div>
            <div class="form-group">
                <label for="player1">Player 1 Name:</label>
                <input type="text" class="form-control" id="player1" placeholder="Enter Player 1 name" required>
            </div>
            <div class="form-group">
                <label for="player2">Player 2 Name:</label>
                <input type="text" class="form-control" id="player2" placeholder="Enter Player 2 name" required>
            </div>
            <button type="submit" class="btn btn-primary">Create Match</button>
        </form>
    </div>

    <!-- Matches List -->
    <div class="card p-3">
        <h3>Matches</h3>
        <ul id="matchesList" class="list-group"></ul>
    </div>
</div>

<!-- Match Interface Modal -->
<div class="modal fade" id="matchModal" tabindex="-1" aria-labelledby="matchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="matchModalLabel">Match Details</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <h4 id="matchTitle"></h4>
                <p class="player-name"><span id="player1Name"></span> vs <span id="player2Name"></span></p>
                <p class="score">Score: <span id="scoreDisplay">0 - 0</span></p>
                
                <div class="text-center">
                    <h5>Record a Rally</h5>
                    <div class="row">
                        <div class="col-md-6">
                            <h6 id="p1Label"></h6>
                            <div class="btn-group d-flex">
                                <button class="btn btn-success" onclick="recordRally(1, 'Serve')">Serve</button>
                                <button class="btn btn-primary" onclick="recordRally(1, 'Forehand')">Forehand</button>
                                <button class="btn btn-warning" onclick="recordRally(1, 'Backhand')">Backhand</button>
                                <button class="btn btn-info" onclick="recordRally(1, 'Volley')">Volley</button>
                                <button class="btn btn-danger" onclick="recordRally(1, 'Error')">Error</button>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <h6 id="p2Label"></h6>
                            <div class="btn-group d-flex">
                                <button class="btn btn-success" onclick="recordRally(2, 'Serve')">Serve</button>
                                <button class="btn btn-primary" onclick="recordRally(2, 'Forehand')">Forehand</button>
                                <button class="btn btn-warning" onclick="recordRally(2, 'Backhand')">Backhand</button>
                                <button class="btn btn-info" onclick="recordRally(2, 'Volley')">Volley</button>
                                <button class="btn btn-danger" onclick="recordRally(2, 'Error')">Error</button>
                            </div>
                        </div>
                    </div>
                </div>
                
                <h5 class="mt-3">Rally Log</h5>
                <ul id="rallyLog" class="list-group"></ul>
            </div>
        </div>
    </div>
</div>

<script>
    let matches = [];
    let currentMatch = null;
    let score = [0, 0];

    document.getElementById('newMatchForm').addEventListener('submit', function(event) {
        event.preventDefault();
        const matchName = document.getElementById('matchName').value.trim();
        const player1 = document.getElementById('player1').value.trim();
        const player2 = document.getElementById('player2').value.trim();
        if (matchName && player1 && player2) {
            const match = { id: matches.length + 1, name: matchName, player1, player2, rallies: [] };
            matches.push(match);
            updateMatchesList();
            document.getElementById('newMatchForm').reset();
        }
    });

    function updateMatchesList() {
        const list = document.getElementById('matchesList');
        list.innerHTML = '';
        matches.forEach(match => {
            const li = document.createElement('li');
            li.className = 'list-group-item d-flex justify-content-between align-items-center';
            li.innerHTML = `
                <span>${match.name}</span>
                <button class="btn btn-sm btn-info" onclick="openMatch(${match.id})">View</button>
            `;
            list.appendChild(li);
        });
    }

    function openMatch(matchId) {
        currentMatch = matches.find(m => m.id === matchId);
        score = [0, 0];
        document.getElementById('matchTitle').innerText = currentMatch.name;
        document.getElementById('player1Name').innerText = currentMatch.player1;
        document.getElementById('player2Name').innerText = currentMatch.player2;
        document.getElementById('p1Label').innerText = currentMatch.player1;
        document.getElementById('p2Label').innerText = currentMatch.player2;
        document.getElementById('rallyLog').innerHTML = '';
        updateScore();
        $('#matchModal').modal('show');
    }

    function recordRally(player, shotType) {
        currentMatch.rallies.push({ player, shotType });
        const log = document.getElementById('rallyLog');
        const li = document.createElement('li');
        li.className = 'list-group-item';
        li.innerText = `${currentMatch["player" + player]}: ${shotType}`;
        log.appendChild(li);
        if (shotType === 'Error') score[player === 1 ? 1 : 0] += 1;
        updateScore();
    }

    function updateScore() {
        document.getElementById('scoreDisplay').innerText = `${score[0]} - ${score[1]}`;
    }
</script>

<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.0/dist/js/bootstrap.bundle.min.js"></script>

</body>
</html>
